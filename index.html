<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<div class="d-flex">
		<div class="player-info-1">
			<h2>Игрок 1</h2>
			<img src="dice.png" class="dice1 w-50">
			<h5>Деньги: <span class="player1_money">1500</span>$</h5>
			<div class="player1_companies">
				<p class="companies">Купленные компании: </p>
				<span class='companies1'></span>
			</div>
			<div>
				<button class='button1' style='display: none'>Купить компанию</button>
			</div>
		</div>
		<div class="content">
			<img src="player1.png" class="player1" style="top:145px; left:20px;">
			<img src="player2.png" class="player2" style="top:145px; left:70px;">
			<!--первая линия-->
			<div class="boxs top-bottom-side" style="left: 20px; top:145px">
				<h4>START</h4>
			</div>
			<div class="boxs top-bottom-side" style="left: 130px; top:145px">
				<img src="roztor.png" class="img" alt="">
			</div>
			<div class="boxs top-bottom-side" style="left: 240px; top:145px">
				<img src="aigul.png" class="img" alt="">
			</div>
			<div class="boxs top-bottom-side"  style="left: 350px; top:145px">3 Общественная казна</div>

			<div class="boxs top-bottom-side" style="left: 460px; top:145px">
				<img src="hozmarket.png" class="img" alt="">
			</div>
			<div class="boxs top-bottom-side" style="left: 570px; top:145px">
				<img src="bershka.png" alt="" class="img">
			</div>
			<div class="boxs top-bottom-side" style="left: 680px;   top:145px">
				6
			</div>

			<div class="boxs top-bottom-side" style="left: 790px; top:145px">
				<img src="zara.png" alt="" class="img">
			</div>
			<div class="boxs top-bottom-side" style="left: 900px; top:145px">
				<img src="hm.png" alt="" class="img">
			</div>
			<div class="boxs top-bottom-side" style="left: 1010px;  top:145px" >
				<img class="img" src="adidas.png" alt="">
			</div>

			<!--вторая линия-->
			<div class="boxs top-bottom-side" style="left: 1120px; top:145px">10
				<p>иди назад на -5 клеток</p>
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 300px">
				<img src="burgerking.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 410px">
				<img src="kfc.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 520px">
				<img class="img" src="huawei.png" alt="">
			</div>

			<div class="boxs left-right-side" style="left: 1120px;top: 630px">
				<img src="mcdonalds.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 740px">
				<img src="amd.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 850px">
				<img class="img" src="loreal.png" alt="">
			</div>

			<div class="boxs left-right-side" style="left: 1120px; top: 960px">
				<img class="img" src="nike.png" alt="">
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 1070px">
				<img src="intel.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 1180px">
				<img src="nvidia.svg"  alt="" class="img" >
			</div>

			<!--третья линия-->
			<div class="boxs top-bottom-side" style="left: 1120px; top: 1330px; background: red">
				
			</div>

			<div class="boxs top-bottom-side" style="left: 1010px; top: 1330px">
				<img class="img" src="mercedes.png" alt="">
			</div>
			<div class="boxs top-bottom-side" style="left: 900px; top: 1330px">
				<img src="twitter.png"  alt="" class="img" >
			</div>
			<div class="boxs top-bottom-side" style="left: 790px; top: 1330px">
				<img class="img" src="netflix.png" alt="">
			</div>
			<div class="boxs top-bottom-side" style="left: 680px; top: 1330px">
				<img src="microsoft.png" alt="" class="img">
			</div>
			<div class="boxs top-bottom-side" style="left: 570px; top: 1330px">
				<img class="img" src="toyota.png" alt="">
			</div>
			<div class="boxs top-bottom-side" style="left: 460px; top: 1330px">
				<img src="epicgames.png" alt="" class="img">
			</div>

			<div class="boxs top-bottom-side" style="left: 350px; top: 1330px">
				<img src="ubisoft.png" alt="" class="img">
			</div>
			<div class="boxs top-bottom-side" style="left: 240px; top: 1330px">
				<img class="img" src="valve.png" alt="">
			</div>
			<div class="boxs top-bottom-side" style="left: 130px; top: 1330px">
				<img src="blizzard.svg" alt="" class="img">
			</div>

			<!--четвертая линия-->
			<div class="boxs top-bottom-side" style="left: 20px; top: 1330px; background: red">
				
			</div>

			<div class="boxs left-right-side" style="left: 20px; top: 1180px">
				<img src="lv.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 20px; top: 1070px">
				<img src="chanel.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 20px; top: 960px">
				<img class="img" src="samsung.png" alt="">
			</div>

			<div class="boxs left-right-side" style="left: 20px; top: 850px">
				<img src="gucci.png " alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 20px; top: 740px">
				<img class="img" src="cocacola.png" alt="">
			</div>
			<div class="boxs left-right-side" style="left: 20px; top: 630px">
				<img src="amazon.png" alt="" class="img">
			</div>

			<div class="boxs left-right-side" style="left: 20px; top: 520px">
				<img class="img" src="apple.png" alt="">
			</div>
			<div class="boxs left-right-side" style="left: 20px; top: 410px">
				<img class="img" src="google.png" alt="" style='width: 90px'>
			</div>
			<div class="boxs left-right-side" style="left: 20px; top:300px">
				<img class="img" src="spacex.png" alt="">
			</div>
		</div>
		<div class="player-info-2">
			<h2>Игрок 2</h2>
			<img src="dice.png" class="dice2 w-50">
			<h5>Деньги: <span class="player2_money">1500</span>$</h5>
			<div class="player2_companies">
				<p class="companies">Купленные компании: </p>
				<span class='companies2'></span>
			<div>
				<button class='button2' style='display: none'>Купить компанию</button>
			</div>
		</div>
		
	</div>

	<script type="text/javascript">
		let boxes = document.querySelectorAll(".boxs"); //сохранил все коробки в массив
		let dice1 = document.querySelector(".dice1");
		let player1 = document.querySelector(".player1");
		let player1_money = document.querySelector('.player1_money')
		let dice2 = document.querySelector(".dice2");
		let player2 = document.querySelector(".player2");
		let player2_money = document.querySelector('.player2_money')
		let button1 = document.querySelector('.button1')
		let button2 = document.querySelector('.button2')
		let companies1 = document.querySelector('.companies1')
		let companies2 = document.querySelector('.companies2')

		let randomizer = function(arg) {
			let random = Math.random() * arg;
			let round = Math.round(random)
			return round
		}

		let checkPlayer = 1
		let turn1 = 0
		let turn2 = 0
		let checkList = [0,3,6,10,20,30]
		let companyList1 = []
		let companyList2 = []
		let priceList = []

		let playerNumber = ['2', '1']
		let playerColor = ['#FFCCCB', 'cyan']

		let step = [0, 0]
		let money = [1500, 1500]
		let companies = [companyList1, companyList2]
		let player = [player1_money, player2_money]
		let button = [button1, button2]
		let companiesList = [companies1, companies2]

		let companyList = ['Розтор','Айгуль', 0, 'Хозмаркет', 'Bershka', 0, 'Zara', 'H&M', 'Adidas', 0, 'Burger King', 'KFC', 'Huawei', "McDonald's", 'AMD', "L'Oreal", 'Nike', 'Intel', 'NVidia', 0, 'Mercedes-Benz', 'Twitter', 'Netflix', 'Microsoft', 'Toyota', 'Epic Games', 'Ubisoft', 'Valve', 'Blizzard', 0, 'Louis Vuitton', 'Chanel', 'Samsung', 'Gucci', 'Coca-Cola Company', 'Amazon', 'Apple', 'Google', 'SpaceX']
		let moneyCycle = [1250, 1000, 800, 600, 400, 200, 0]
		let cycle = [0,0]
		let creditNumber = [3,3]
		let checkFunction = function (arg) {
			return checkList[arg]
		}
		let createPriceList = function () {
			for(let i = 0; i < 4; i++) {
				for(let k = 0; k < 10; k++) {
					priceList[i*10+k] = 150 *(i+1)
				}
			}
		}
		let payingTaxes = function (arg1, arg2) {
			for(let i = 0; i <= companies[arg2].length; i++) {
				if(step[arg1] == companies[arg2][i]) {
					button[arg1].style.display = 'none'
					money[arg1] = money[arg1] - priceList[step[arg1]] * 0.8
					money[arg2] = money[arg2] + priceList[step[arg1]] * 0.6
					player[arg1].innerHTML = money[arg1]
					player[arg2].innerHTML = money[arg2]
				}
			}
		}
		let checkBuy = function (arg) {
			for(let i = 0; i <= 5; i++) {
				if(step[arg] == checkFunction(i)) {
					button[arg].style.display = 'none'
					break
				} else for(let k = 0; k <= companies[arg].length; k++) {
					if(companies[arg][k] == step[arg]) {
						button[arg].style.display = 'none'
						break
					} else {
						button[arg].style.display = 'block'
					}
				}
			}
		}
		let credit = function (arg) {
			if (money[arg] <= 0) {
				if(confirm('Хотите взять кредит?') & creditNumber[arg] > 0){
					alert('Вы взяли кредит.')
					money[arg] += 1000
					player[arg].innerHTML = money[arg]
					creditNumber[arg]--
				} else {
					button1.style.display = 'none'
					button2.style.display = 'none'
					alert('Игрок ' + playerNumber[arg] +' выйграл')
					checkPlayer = 0
				}		
			}
		}
		for (let i = 0; i < 2; i++) {
			button[i].onclick = function () {
				boxes[step[i]].style.background = playerColor[i]
				money[i] = money[i] - priceList[step[i]]
				player[i].innerHTML = money[i]
				companies[i].push(step[i])
				button[i].style.display = 'none'
				companiesList[i].innerHTML = companiesList[i].innerHTML + ' ' + companyList[step[i] - 1]
			}
		}
		function updateParameters () {
			companies = [companyList1, companyList2]
		}
		createPriceList()
		dice1.onclick = function() {
			if(checkPlayer == 1 & turn1 == 0) {
				let dice = randomizer(5) + 1;

				if(step[0] >= 0) {
					step[0] = step[0] + dice;
				}

				if(step[0] == 10) {
					step[0] = step[0] - 5
				}

				if(step[0] >= 39) {
					step[0] = 0;
					money[0] = money[0] + moneyCycle[cycle[0]]
					player1_money.innerHTML = money[0]
					cycle[0] += + 1
				}	

				if(step[0] == 3) {
					money[0] = money[0] - 400
					player1_money.innerHTML = money[0]
				}	

				if(step[0] == 6) {
					money[0] = money[0] + 250
					player1_money.innerHTML = money[0]
				}

				if(step[0] == 20 || step[0] == 30) {
					turn1 = 1
				}

				updateParameters()

				checkBuy(0)

				payingTaxes(0, 1)

				player1.style.left = boxes[step[0]].style.left
				player1.style.top = boxes[step[0]].style.top

				checkPlayer = 2

				if (turn2 == 1) {
					checkPlayer = 1
					turn2 = 0
				}

				button2.style.display = 'none'

				credit(0)

				updateParameters()
			} else if (turn1 == 1 & checkPlayer == 1) {
				checkPlayer = 2
				alert('Игрок 1 ходит первым')
			} else if (checkPlayer != 0){	
				alert('Игрок 2 не закончил ход')
	 		}
		}

		dice2.onclick = function() {
			if(checkPlayer == 2 & turn2 == 0) {
				let dice = randomizer(5) + 1;

				if(step[1] >= 0) {
					step[1] = step[1] + dice;
				}

				if(step[1]== 10) {
					step[1] = step[1] - 5
				}

				if(step[1] >= 39) {
					step[1] = 0;
					money[1] = money[1] + moneyCycle[cycle[1]]
					player2_money.innerHTML = money[1]
					cycle[1] = cycle[1] + 1
				}	

				if(step[1] == 3) {
					money[1] = money[1] - 400
					player2_money.innerHTML = money[1]
				}

				if(step[1] == 6) {
					money[1] = money[1] + 250
					player2_money.innerHTML = money[1]
				}

				if(step[1] == 20 || step[1] == 30) {
					turn2 = 1
				}

				updateParameters()

				checkBuy(1)

				payingTaxes(1, 0)

				player2.style.left = boxes[step[1]].style.left
				player2.style.top = boxes[step[1]].style.top

				checkPlayer = 1

				if (turn1 == 1) {
					checkPlayer = 2
					turn1 = 0
				}

				button1.style.display = 'none'
				
				credit(1)

				updateParameters()
			} else if (turn2 == 1 & checkPlayer == 2) {
				checkPlayer == 1
				alert('Игрок 1 ходит первым')
			} else if (checkPlayer != 0) {	
				alert('Игрок 1 не закончил ход')
	 		}	
		}
	</script>
</div>
</body>
</html>


